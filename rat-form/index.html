<!DOCTYPE html>
<html lang="ru">
    <head>
        <title>Contact Form Tutorial by Bootstrapious.com</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
        <link href='rat.css' rel='stylesheet' type='text/css'>
        <script
            src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
            <script src="https://code.jquery.com/jquery-migrate-3.3.1.min.js" integrity="sha256-APllMc0V4lf/Rb5Cz4idWUCYlBDG3b0EcN1Ushd3hpE=" crossorigin="anonymous"></script>
        <script>
            $(document).ready(function(){
                $( ".add-row" ).click(function(){
                    var $clone = $("div.rat-ids" ).last().clone();
                    
                    $clone.insertBefore( ".rat-block" );
                    var select = $("div.rat-ids:last > select.rat-ids");
                    var label = $("div.rat-ids:last > label.rat-ids");
                    var str = select.attr('id');
                    var res = str.split("[")[1];
                    var str = res.substring(0, 1);
                    var i = parseInt(str);
                    i++;
                    if (i == 1) {
                        $clone.append( "<button type='button' class='remove-row' style='float: right;'> - </button>" );
                    }
                    select.attr({'id':"rat_ids[" + i + "]", 'name':"rat_ids[" + i + "]"});
                    label.attr({'for':"rat_ids[" + i + "]"});
                });
                
                $( "#photo-form" ).on("click", ".remove-row", function(){
                    $(this).parent().remove();
                });
                $('#url').change(function() {
                    let imgPath = $('#url').val();
                    $(`<img width='640' src='${imgPath}'>`).appendTo('.messages');
                });
            });

            
        </script>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col-xl-10">
                    <h1>Крысаки</h1>
                    <h3>Добавить новое фото</h3>
                    <form id="photo-form" method="post" action="photo_add.php" role="form">
                        <div class="messages"></div>
                        <div class="controls">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="title">Название *</label>
                                        <input id="title" type="text" name="title" class="form-control" placeholder="Пожалуйста введите заголовок фото *" required="required" data-error="Заговолок не может быть пустым.">
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="description">Описание *</label>
                                        <textarea id="description" name="description" class="form-control" placeholder="Пожалуйста введите описание *" required="required" data-error="Описание не может быть пустым." rows="5"></textarea>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="url">URI фото *</label>
                                        <input id="url" type="text" name="url" class="form-control" placeholder="Пожалуйста введите ссылку на фото *" required="required" data-error="Ссылка не может быть пустой.">
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="date_d">День *</label>
                                        <select id="date_d" name="date_d" class="form-control" required="required" data-error="Пожалуйста выберите день.">
                                            <option value="-1"> - </option>
                                            <option value="1"> 01 </option>
                                            <option value="2"> 02 </option>
                                            <option value="3"> 03 </option>
                                            <option value="4"> 04 </option>
                                            <option value="5"> 05 </option>
                                            <option value="6"> 06 </option>
                                            <option value="7"> 07 </option>
                                            <option value="8"> 08 </option>
                                            <option value="9"> 09 </option>
                                            <option value="10"> 10 </option>
                                            <option value="11"> 11 </option>
                                            <option value="12"> 12 </option>
                                            <option value="13"> 13 </option>
                                            <option value="14"> 14 </option>
                                            <option value="15"> 15 </option>
                                            <option value="16"> 16 </option>
                                            <option value="17"> 17 </option>
                                            <option value="18"> 18 </option>
                                            <option value="19"> 19 </option>
                                            <option value="20"> 20 </option>
                                            <option value="21"> 21 </option>
                                            <option value="22"> 22 </option>
                                            <option value="25"> 23 </option>
                                            <option value="24"> 24 </option>
                                            <option value="25"> 25 </option>
                                            <option value="26"> 26 </option>
                                            <option value="27"> 27 </option>
                                            <option value="28"> 28 </option>
                                            <option value="29"> 29 </option>
                                            <option value="30"> 30 </option>
                                            <option value="31"> 31 </option>
                                        </select>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="date_m">Месяц *</label>
                                        <select id="date_m" name="date_m" class="form-control" required="required" data-error="Пожалуйста выберите месяц.">
                                            <option value="-1"> - </option>
                                            <option value="1"> Январь </option>
                                            <option value="2"> Февраль </option>
                                            <option value="3"> Март </option>
                                            <option value="4"> Апрель </option>
                                            <option value="5"> Май </option>
                                            <option value="6"> Июнь </option>
                                            <option value="7"> Июль </option>
                                            <option value="8"> Август </option>
                                            <option value="9"> Сентябрь </option>
                                            <option value="10"> Октябрь </option>
                                            <option value="11"> Ноябрь </option>
                                            <option value="12"> Декабрь </option>
                                        </select>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="date_y">Год *</label>
                                        <select id="date_y" name="date_y" class="form-control" required="required" data-error="Пожалуйста выберите год.">
                                            <option value="-1"> - </option>
                                            <option value="1998"> 1998 </option>
                                            <option value="1999"> 1999 </option>
                                            <option value="2000"> 2000 </option>
                                            <option value="2001"> 2001 </option>
                                            <option value="2003"> 2003 </option>
                                            <option value="2004"> 2004 </option>
                                            <option value="2005"> 2005 </option>
                                            <option value="2006"> 2006 </option>
                                            <option value="2007"> 2007 </option>
                                            <option value="2008"> 2008 </option>
                                            <option value="2009"> 2009 </option>
                                            <option value="2010"> 2010 </option>
                                            <option value="2011"> 2011 </option>
                                            <option value="2012"> 2012 </option>
                                            <option value="2013"> 2013 </option>
                                            <option value="2014"> 2014 </option>
                                            <option value="2015"> 2015 </option>
                                            <option value="2016"> 2016 </option>
                                            <option value="2017"> 2017 </option>
                                            <option value="2018"> 2018 </option>
                                            <option value="2019"> 2019 </option>
                                            <option value="2020"> 2020 </option>
                                        </select>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group rat-ids">
                                        <label style="float: left;" for="rat_ids[0]" class="rat-ids">Крысаки на фото: *</label>
                                        <select style="margin-left: 20px; float: left; width: 75%;" id="rat_ids[0]" name="rat_ids[0]" class="rat-ids form-control" required="required" data-error="Пожалуйста выберите крысака">
                                            <option value=""></option>
                                            <option value="1">Один (ноябрь 2002 — 23 февраля 2005, Blue Berkshire Standard)</option>
                                            <option value="2">Стасик Полоскин (декабрь 2003 — 15 апреля 2005, Blue Agouti Hooded Standart)</option>
                                            <option value="3">Мулька Шилохвост (март 2004 — 30 октября 2005, Silver Black Berkshire Standard)</option>
                                            <option value="4">Джет Сильвер (16 февраля 2004 — 13 января 2007, Silver Black Self Standard)</option>
                                            <option value="5">Тимофей Коломенский (март 2005 — 29 августа 2007, Blue Berkshire Standard)</option>
                                        </select>
                                        <div class="help-block with-errors"></div>
                                    </div>
                                    <div class="rat-block"></div>
                                </div>
                            </div>
                            <div class="row add-row-div">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <button type="button" class="add-row"> Добавить крысака + </button>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input type="submit" class="btn btn-success btn-send" value="Добавить фото">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <!-- /.8 -->
            </div>
            <!-- /.row-->
        </div>
        <!-- /.container-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/1000hz-bootstrap-validator/0.11.9/validator.min.js" integrity="sha256-dHf/YjH1A4tewEsKUSmNnV05DDbfGN3g7NMq86xgGh8=" crossorigin="anonymous"></script>
        <script src="rat.js"></script>
    </body>
</html>